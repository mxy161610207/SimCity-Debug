<?xml version="1.0"?>

<rules>
    <rule>
        <id>rule_00</id>
        <explanation en="When a sensor detects a car passing by, this car must be moving." ch="当传感器检测到有车辆经过，这辆车必然在行进中。" />
        <formula>
            <forall var="v1" in="latest">
                <not>
                    <bfunc id="still_state">
                        <param pos="1" var="v1" field="state" />
                    </bfunc>
                </not>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_01</id>
        <explanation en="An orange car cannot appear in different places in a very short time." ch="同一辆橘色小车不可能在很短时间内出现在不同的地点。" />
        <formula>
            <forall var="v1" in="orange_car1">
                <not>
                    <exists var="v2" in="orange_car2">
                        <and>
                            <not>
                                <bfunc id="same">
                                    <param pos="1" var="v1" field="id" />
                                    <param pos="2" var="v2" field="id" />
                                </bfunc>
                            </not>
                            <and>
                                <not>
                                    <bfunc id="same_location">
                                        <param pos="1" var="v1" field="cur_loc" />
                                        <param pos="2" var="v2" field="cur_loc" />
                                    </bfunc>
                                </not>
                                <bfunc id="short_time">
                                    <param pos="1" var="v1" field="timestamp" />
                                    <param pos="2" var="v2" field="timestamp" />
                                </bfunc>
                            </and>
                        </and>
                    </exists>
                </not>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_02</id>
        <explanation en="A green car cannot appear in different places in a very short time." ch="同一辆绿色小车不可能在很短时间内出现在不同的地点。" />
        <formula>
            <forall var="v1" in="green_car1">
                <not>
                    <exists var="v2" in="green_car2">
                        <and>
                            <not>
                                <bfunc id="same">
                                    <param pos="1" var="v1" field="id" />
                                    <param pos="2" var="v2" field="id" />
                                </bfunc>
                            </not>
                            <and>
                                <not>
                                    <bfunc id="same_location">
                                        <param pos="1" var="v1" field="cur_loc" />
                                        <param pos="2" var="v2" field="cur_loc" />
                                    </bfunc>
                                </not>
                                <bfunc id="short_time">
                                    <param pos="1" var="v1" field="timestamp" />
                                    <param pos="2" var="v2" field="timestamp" />
                                </bfunc>
                            </and>
                        </and>
                    </exists>
                </not>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_03</id>
        <explanation en="A black car cannot appear in different places in a very short time." ch="同一辆黑色小车不可能在很短时间内出现在不同的地点。" />
        <formula>
            <forall var="v1" in="black_car1">
                <not>
                    <exists var="v2" in="black_car2">
                        <and>
                            <not>
                                <bfunc id="same">
                                    <param pos="1" var="v1" field="id" />
                                    <param pos="2" var="v2" field="id" />
                                </bfunc>
                            </not>
                            <and>
                                <not>
                                    <bfunc id="same_location">
                                        <param pos="1" var="v1" field="cur_loc" />
                                        <param pos="2" var="v2" field="cur_loc" />
                                    </bfunc>
                                </not>
                                <bfunc id="short_time">
                                    <param pos="1" var="v1" field="timestamp" />
                                    <param pos="2" var="v2" field="timestamp" />
                                </bfunc>
                            </and>
                        </and>
                    </exists>
                </not>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_04</id>
        <explanation en="A white car cannot appear in different places in a very short time." ch="同一辆白色小车不可能在很短时间内出现在不同的地点。" />
        <formula>
            <forall var="v1" in="white_car1">
                <not>
                    <exists var="v2" in="white_car2">
                        <and>
                            <not>
                                <bfunc id="same">
                                    <param pos="1" var="v1" field="id" />
                                    <param pos="2" var="v2" field="id" />
                                </bfunc>
                            </not>
                            <and>
                                <not>
                                    <bfunc id="same_location">
                                        <param pos="1" var="v1" field="cur_loc" />
                                        <param pos="2" var="v2" field="cur_loc" />
                                    </bfunc>
                                </not>
                                <bfunc id="short_time">
                                    <param pos="1" var="v1" field="timestamp" />
                                    <param pos="2" var="v2" field="timestamp" />
                                </bfunc>
                            </and>
                        </and>
                    </exists>
                </not>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_05</id>
        <explanation en="A red car cannot appear in different places in a very short time." ch="同一辆红色小车不可能在很短时间内出现在不同的地点。" />
        <formula>
            <forall var="v1" in="red_car1">
                <not>
                    <exists var="v2" in="red_car2">
                        <and>
                            <not>
                                <bfunc id="same">
                                    <param pos="1" var="v1" field="id" />
                                    <param pos="2" var="v2" field="id" />
                                </bfunc>
                            </not>
                            <and>
                                <not>
                                    <bfunc id="same_location">
                                        <param pos="1" var="v1" field="cur_loc" />
                                        <param pos="2" var="v2" field="cur_loc" />
                                    </bfunc>
                                </not>
                                <bfunc id="short_time">
                                    <param pos="1" var="v1" field="timestamp" />
                                    <param pos="2" var="v2" field="timestamp" />
                                </bfunc>
                            </and>
                        </and>
                    </exists>
                </not>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_06</id>
        <explanation en="A silver SUV cannot appear in different places in a very short time." ch="同一辆银色小车不可能在很短时间内出现在不同的地点。" />
        <formula>
            <forall var="v1" in="silver_suv1">
                <not>
                    <exists var="v2" in="silver_suv2">
                        <and>
                            <not>
                                <bfunc id="same">
                                    <param pos="1" var="v1" field="id" />
                                    <param pos="2" var="v2" field="id" />
                                </bfunc>
                            </not>
                            <and>
                                <not>
                                    <bfunc id="same_location">
                                        <param pos="1" var="v1" field="cur_loc" />
                                        <param pos="2" var="v2" field="cur_loc" />
                                    </bfunc>
                                </not>
                                <bfunc id="short_time">
                                    <param pos="1" var="v1" field="timestamp" />
                                    <param pos="2" var="v2" field="timestamp" />
                                </bfunc>
                            </and>
                        </and>
                    </exists>
                </not>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_07</id>
        <explanation en="An orange car cannot violate physical space constraints. It must visit places in a physical sequence."
                     ch="橘色小车无法违反物理空间的限制。它必须按照物理位置的顺序经过不同地点。" />
        <formula>
            <forall var="v1" in="orange_car3">
                <or>
                    <not>
                        <exists var="v2" in="orange_car4">
                            <bfunc id="earlier_than">
                                <param pos="1" var="v2" field="timestamp" />
                                <param pos="2" var="v1" field="timestamp" />
                            </bfunc>
                        </exists>
                    </not>
                    <exists var="v3" in="orange_car5">
                        <and>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="prev_loc" />
                                <param pos="2" var="v3" field="cur_loc" />
                            </bfunc>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="cur_loc" />
                                <param pos="2" var="v3" field="next_loc" />
                            </bfunc>
                        </and>
                    </exists>
                </or>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_08</id>
        <explanation en="A green car cannot violate physical space constraints. It must visit places in a physical sequence."
                     ch="绿色小车无法违反物理空间的限制。它必须按照物理位置的顺序经过不同地点。" />
        <formula>
            <forall var="v1" in="green_car3">
                <or>
                    <not>
                        <exists var="v2" in="green_car4">
                            <bfunc id="earlier_than">
                                <param pos="1" var="v2" field="timestamp" />
                                <param pos="2" var="v1" field="timestamp" />
                            </bfunc>
                        </exists>
                    </not>
                    <exists var="v3" in="green_car5">
                        <and>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="prev_loc" />
                                <param pos="2" var="v3" field="cur_loc" />
                            </bfunc>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="cur_loc" />
                                <param pos="2" var="v3" field="next_loc" />
                            </bfunc>
                        </and>
                    </exists>
                </or>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_09</id>
        <explanation en="A black car cannot violate physical space constraints. It must visit places in a physical sequence."
                     ch="黑色小车无法违反物理空间的限制。它必须按照物理位置的顺序经过不同地点。" />
        <formula>
            <forall var="v1" in="black_car3">
                <or>
                    <not>
                        <exists var="v2" in="black_car4">
                            <bfunc id="earlier_than">
                                <param pos="1" var="v2" field="timestamp" />
                                <param pos="2" var="v1" field="timestamp" />
                            </bfunc>
                        </exists>
                    </not>
                    <exists var="v3" in="black_car5">
                        <and>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="prev_loc" />
                                <param pos="2" var="v3" field="cur_loc" />
                            </bfunc>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="cur_loc" />
                                <param pos="2" var="v3" field="next_loc" />
                            </bfunc>
                        </and>
                    </exists>
                </or>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_10</id>
        <explanation en="A white car cannot violate physical space constraints. It must visit places in a physical sequence."
                     ch="白色小车无法违反物理空间的限制。它必须按照物理位置的顺序经过不同地点。" />
        <formula>
            <forall var="v1" in="white_car3">
                <or>
                    <not>
                        <exists var="v2" in="white_car4">
                            <bfunc id="earlier_than">
                                <param pos="1" var="v2" field="timestamp" />
                                <param pos="2" var="v1" field="timestamp" />
                            </bfunc>
                        </exists>
                    </not>
                    <exists var="v3" in="white_car5">
                        <and>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="prev_loc" />
                                <param pos="2" var="v3" field="cur_loc" />
                            </bfunc>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="cur_loc" />
                                <param pos="2" var="v3" field="next_loc" />
                            </bfunc>
                        </and>
                    </exists>
                </or>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_11</id>
        <explanation en="A red car cannot violate physical space constraints. It must visit places in a physical sequence."
                     ch="红色小车无法违反物理空间的限制。它必须按照物理位置的顺序经过不同地点。" />
        <formula>
            <forall var="v1" in="red_car3">
                <or>
                    <not>
                        <exists var="v2" in="red_car4">
                            <bfunc id="earlier_than">
                                <param pos="1" var="v2" field="timestamp" />
                                <param pos="2" var="v1" field="timestamp" />
                            </bfunc>
                        </exists>
                    </not>
                    <exists var="v3" in="red_car5">
                        <and>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="prev_loc" />
                                <param pos="2" var="v3" field="cur_loc" />
                            </bfunc>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="cur_loc" />
                                <param pos="2" var="v3" field="next_loc" />
                            </bfunc>
                        </and>
                    </exists>
                </or>
            </forall>
        </formula>
    </rule>

    <rule>
        <id>rule_12</id>
        <explanation en="A silver SUV cannot violate physical space constraints. It must visit places in a physical sequence."
                     ch="银色小车无法违反物理空间的限制。它必须按照物理位置的顺序经过不同地点。" />
        <formula>
            <forall var="v1" in="silver_suv3">
                <or>
                    <not>
                        <exists var="v2" in="silver_suv4">
                            <bfunc id="earlier_than">
                                <param pos="1" var="v2" field="timestamp" />
                                <param pos="2" var="v1" field="timestamp" />
                            </bfunc>
                        </exists>
                    </not>
                    <exists var="v3" in="silver_suv5">
                        <and>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="prev_loc" />
                                <param pos="2" var="v3" field="cur_loc" />
                            </bfunc>
                            <bfunc id="same_location">
                                <param pos="1" var="v1" field="cur_loc" />
                                <param pos="2" var="v3" field="next_loc" />
                            </bfunc>
                        </and>
                    </exists>
                </or>
            </forall>
        </formula>
    </rule>
</rules>